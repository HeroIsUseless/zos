     1                                  ORG 0x7c00 ; 程序的内存装载地址
     2                                  ; 内存map
     3                                  ; 0x7c00~0x7e00 IPL
     4                                  ; 0x7e00~0x8000 IPL运行时堆栈
     5                                  ; 0x8000~0x8200 boot
     6 00000000 EB4D                    JMP entry
     7                                  ; 标准FAT12格式软盘专用的代码
     8 00000002 4D794F535F49504C        DB		"MyOS_IPL"		; 启动扇区名称（8字节）
     9 0000000A 0002                    DW		512				; 每个扇区（sector）大小（必须512字节）
    10 0000000C 01                      DB		1				; 簇（cluster）大小（必须为1个扇区）
    11 0000000D 0100                    DW		1				; FAT起始位置（一般为第一个扇区）
    12 0000000F 02                      DB		2				; FAT个数（必须为2）
    13 00000010 E000                    DW		224				; 根目录大小（一般为224项）
    14 00000012 400B                    DW		2880			; 该磁盘大小（必须为2880扇区1440*1024/512）
    15 00000014 F0                      DB		0xf0			; 磁盘类型（必须为0xf0）
    16 00000015 0900                    DW		9				; FAT的长度（必须是9扇区）
    17 00000017 1200                    DW		18				; 一个磁道（track）有几个扇区（必须为18）
    18 00000019 0200                    DW		2				; 磁头数（必须是2）
    19 0000001B 00000000                DD		0				; 不使用分区，必须是0
    20 0000001F 400B0000                DD		2880			; 重写一次磁盘大小
    21 00000023 000029                  DB		0,0,0x29		; 意义不明（固定）
    22 00000026 FFFFFFFF                DD		0xffffffff		; （可能是）卷标号码
    23 0000002A 4D794F535F6469736B-     DB		"MyOS_disk  "	; 磁盘的名称（必须为11字节，不足填空格）
    23 00000033 2020               
    24 00000035 4641543132202020        DB		"FAT12   "		; 磁盘格式名称（必须是8字节，不足填空格）
    25 0000003D 00<rep 12h>             times	18	db 0			; 先空出18字节
    26                                  ; 程序主体
    27                                  entry:
    28 0000004F B80000                      MOV AX,  0     ; 初始化堆栈
    29 00000052 8ED0                        MOV SS, AX     ; 堆栈地址为0
    30 00000054 BC007C                      MOV SP, 0x7c00 ; 堆栈指针附了特定值
    31                                   
    32 00000057 B82008                      MOV AX, 0x0820 ; 读取磁盘
    33 0000005A 8EC0                        MOV ES, AX 
    34 0000005C B500                        MOV CH, 0 ; 柱面0
    35 0000005E B600                        MOV DH, 0 ; 磁头0
    36 00000060 B102                        MOV CL, 2 ; 扇区2，加载下一个扇区
    37                                      ;
    38 00000062 B402                        MOV AH, 0x02 ; 读入磁盘
    39 00000064 B001                        MOV AL, 1 ; 一个扇区
    40 00000066 BB0000                      MOV BX, 0
    41 00000069 B200                        MOV DL, 0x00 ; A驱动器
    42 0000006B CD13                        INT 0x13 ; 读入
    43 0000006D E9(0082)                    JMP 0x8200 ; 跳转到boot执行
    44                                      ;
    45                                  
    46                                  error:
    47 00000070 BE[8800]                    MOV SI, msg
    48                                      putloop:
    49 00000073 8A04                            MOV AL, [SI] ; 把si中的内容放到AL中
    50 00000075 83C601                          ADD SI, 1
    51 00000078 3C00                            CMP AL, 0
    52 0000007A 7409                            JE halt
    53 0000007C B40E                            MOV AH, 0x0e
    54 0000007E BB0F00                          MOV BX, 15
    55 00000081 CD10                            INT 0x10
    56 00000083 EBEE                        JMP putloop
    57                                   
    58                                  halt:
    59 00000085 F4                          HLT 
    60 00000086 EBFD                        JMP halt
    61                                   
    62                                  ; 信息显示部分
    63                                  msg:
    64 00000088 0A0A                    DB		0x0a, 0x0a		; 换行两次
    65 0000008A 6C6F6164206572726F-     DB		"load error"
    65 00000093 72                 
    66 00000094 0A                      DB		0x0a			; 换行
    67 00000095 00                      DB		0
    68                                   
    69 00000096 00<rep 168h>            times    510-($-$$) db 0 
    70 000001FE 55AA                    DB		0x55, 0xaa
