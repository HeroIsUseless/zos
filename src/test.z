draw.z: @\screen\draw.z;

rect(left: dword, top: dword, addrVram: dword):(
  x: 0;
  y: 0;
  while(y\<8, (
    while(x\<8, (
      color: 3;
      draw.z\pixel(left+x, top+y, color, 320, addrVram);
      x <= x+1;
    ));
    y <= y+1;
  ));
);

block(addrVram: dword):(
  i: 0;
  [while(i < 300, (draw.z\pixel(i, i, i, 320, addrVram);i<=i+1;));
  x: 0;
  y: 0;
  while(y<8, (
    x <= 0;
    while(x<8, (
      color: font.z\A\(y*8+x);
      draw.z\pixel(10+x, 10+y, color, 320, addrVram);
      x <= x+1;
    ));
    y <= y+1;
  ));
  [draw.z\flush(addrVram);
);

draw(addrVram: dword):(
  block(addrVram);
  [tstr: "ABCD";
  [draw.z\string(0, 0, @tstr, 320, addrVram);
  [rect(0, 0, addrVram);
);

