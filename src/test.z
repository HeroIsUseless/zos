draw.z: @\screen\draw.z;

rect(left: dword, top: dword, addrVram: dword):(
  y: 0;
  while(y\<8, (
    x: 0;
    while(x\<8, (
      color: 3;
      draw.z\pixel(left+x, top+y, color, 320, addrVram);
      x <= x+1;
    ));
    y <= y+1;
  ));
);

block(addrVram: dword):(
  i: 0;
  while(i < 300, (draw.z\pixel(i, i, i, 320, addrVram);i<=i+1;));
);

draw(addrVram: dword):(
  block(addrVram);
  tstr: "HELLO WORLD";
  tstrAddr: @tstr;
  tstrAddr <= tstrAddr + 4;
  tstrContent: ^tstrAddr;
  tstrContent<= ~tstrContent;
  draw.z\string(8, 8, @tstr, 320, addrVram);
  rect(100, 100, addrVram);
  [rect(100, 101, addrVram);
  [rect(100, 102, addrVram);
  [rect(100, 103, addrVram);
);

